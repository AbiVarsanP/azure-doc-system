{% extends "base.html" %}

{% block title %}Student Documents - Azure Document System{% endblock %}

{% block head %}
  <style>
    .page-header { background: linear-gradient(135deg,#ffffff,#eef2ff); border-radius:16px; padding:24px; box-shadow:0 12px 30px rgba(0,0,0,0.08) }
    .table-card { border:none; border-radius:14px; box-shadow:0 12px 30px rgba(0,0,0,0.08); overflow:hidden }
    .table thead { background:#2563eb; color:white }
    .table tbody tr:hover { background:#f1f5ff }
    a.doc-link { text-decoration:none; font-weight:500 }
  </style>
{% endblock %}

{% block content %}
  <section class="page-header mb-4">
    <h2 class="fw-bold mb-1"><i class="bi bi-folder-check me-2"></i>All Student Documents</h2>
    <p class="text-secondary mb-0">View and verify certificates uploaded by students.</p>
  </section>

  <div class="card table-card">
    <div class="table-responsive">
      <table class="table table-hover align-middle mb-0">
        <thead>
          <tr>
            <th>Student Email</th>
            <th>Certificate</th>
            <th>Type</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          {% for d in docs %}
          <tr>
            <td><i class="bi bi-person-circle me-1 text-secondary"></i>{{ d[1] }}</td>
            <td>
              <a class="doc-link text-primary" target="_blank" href="https://{{ config['AZURE_STORAGE_ACCOUNT'] }}.blob.core.windows.net/certificates/{{ d[2] }}">
                <i class="bi bi-file-earmark-pdf-fill me-1"></i>{{ d[2] }}
              </a>
            </td>
            <td><span class="badge bg-info text-dark">{{ d[3] }}</span></td>
            <td>
              <a href="https://{{ config['AZURE_STORAGE_ACCOUNT'] }}.blob.core.windows.net/certificates/{{ d[2] }}" target="_blank" class="btn btn-sm btn-outline-primary">
                <i class="bi bi-eye me-1"></i>View
              </a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}
